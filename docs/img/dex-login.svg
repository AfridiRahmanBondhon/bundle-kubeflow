<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg viewBox="0 0 300 500" xmlns="http://www.w3.org/2000/svg">
  <style>
    text {
      font: smaller Verdana, Helvetica, Arial, sans-serif;
    }
    .step {
      animation-duration: 6s;
      animation-iteration-count: infinite;
    }
    .step1 { animation-name: step1; }
    .step2 { animation-name: step2; }
    .step3 { animation-name: step3; }
    .step4 { animation-name: step4; }
    .step5 { animation-name: step5; }
    .step6 { animation-name: step6; }
    .step7 { animation-name: step7; }
    .step8 { animation-name: step8; }
    .step9 { animation-name: step9; }

    @keyframes step1 {
      0% { opacity: 0; }
      8.33% { opacity: 1; }
    }
    @keyframes step2 {
      0% { opacity: 0; }
      16.66% { opacity: 0; }
      25% { opacity: 1; }
    }
    @keyframes step3 {
      0% { opacity: 0; }
      33.33% { opacity: 0; }
      41.66% { opacity: 1; }
    }
    @keyframes step4 {
      0% { opacity: 0; }
      50% { opacity: 0; }
      58.33% { opacity: 1; }
    }
    @keyframes step5 {
      0% { opacity: 0; }
      66.66% { opacity: 0; }
      75% { opacity: 1; }
    }
    @keyframes step6 {
      0% { opacity: 0; }
      83.33% { opacity: 0; }
      91.66% { opacity: 1; }
    }
  </style>
  <marker id="triangle"
    viewBox="0 0 10 10"
    refX="0"
    refY="5" 
    markerUnits="strokeWidth"
    markerWidth="4"
    markerHeight="3"
    orient="auto">
    <path d="M 0 0 L 10 5 L 0 10 z" />
  </marker>
  <text class="step step1" x="30" y="67.5" dominant-baseline="hanging">GET /foo</text>
	<line class="step step1" x1="20" y1="62.5" x2="80" y2="62.5" marker-end="url(#triangle)" stroke="black" stroke-width="3" />
	
  <text class="step step2" x="40" y="160">Follow redirect</text>
  <line class="step step2" x1="137.5" y1="120" x2="137.5" y2="180" marker-end="url(#triangle)" stroke="black" stroke-width="3" />

  <text class="step step3" x="20" y="360">Submit credentials</text>
	<line class="step step3" x1="137.5" y1="320" x2="137.5" y2="380" marker-end="url(#triangle)" stroke="black" stroke-width="3" />

  <text class="step step4" x="180" y="360">Confirm credentials</text>
	<line class="step step4" x1="162.5" y1="380" x2="162.5" y2="320" marker-end="url(#triangle)" stroke="black" stroke-width="3" />

  <text class="step step5" x="180" y="160">Redirect to callback</text>
	<line class="step step5" x1="162.5" y1="180" x2="162.5" y2="120" marker-end="url(#triangle)" stroke="black" stroke-width="3" />

  <text class="step step6" x="30" y="32.5">301 /callback</text>
  <line class="step step6" x1="80" y1="37.5" x2="20" y2="37.5" marker-end="url(#triangle)" stroke="black" stroke-width="3" />

  <image height="100" width="100" x="100" y="0" xlink:href="ambassador.svg"><title>Ambassador</title></image>
  <image height="100" width="100" x="100" y="200" xlink:href="dex.svg"><title>Dex IDP</title></image>
  <image height="100" width="100" x="100" y="400" xlink:href="cloud.svg"><title>External Service</title></image>
</svg>
